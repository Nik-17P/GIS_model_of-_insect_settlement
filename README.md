# GIS_model_of-_insect_settlement
Пространственное распределение Leptinotarsa decemlineata и Podisus maculiventris

Данные по климату из ЯОД архивов (закрытый проект). Лучше переделать на openmeteopy. 

Что делает этот код (кратко)

Degree-days: для каждой особи нимфального комплекса выбирается случайный total DD в диапазоне [233.9, 338.7], затем этот суммарный DD распределяется по пяти нимфальным стадиям согласно NYMPH_STAGE_PROP. Яйца — фиксированный EGG_DD. Для накопления используется простая модель: daily_dd = max(0, temp - base_temp); если накоплено >= требуемого — особь переходит в следующую стадию. Это даёт нужный разброс по погоде.
Детализация нимф: стадии nymph1…nymph5 реализованы как отдельные стадии с разными движениями и смертностями.
Дополнительная смертность: базовая смертность модифицируется погодой (экстремы: высокая температура, низкая влажность, низкая температура) и добавляется плотностно-зависимая смертность (каннибализм) — если количество соседей в радиусе ≈0.178 м превышает порог DENSITY_THRESHOLD, вероятность смертности растёт.
Добыча: генерируем 700 точек «добычи» внутри круга радиуса 10 м вокруг заданных координат (PREY_CENTER). Если хищник попадает в радиус обнаружения (10 м), его движение получает направленный вектор к ближайшей добыче (смешанный с случайностью — параметр PREY_BIAS).
Границы (GeoJSON): если передать путь к geojson (полигон), движение, которое ведёт за границы, запрещается (в текущей реализации — движение откатывается). При желании можно заменить откат на отскок или проекцию на границу (легко изменить).
Каждый агент = одна особь.
Экспорт GeoTIFF по дням: после каждого дня создаётся GeoTIFF (density_day_XXX.tif) с плотностью агентов (пиксель = PIXEL_SIZE_M метров, задан в параметрах). Также экспортируем GeoJSON точек по дням (points_day_XXX.geojson). Оба формата открываются в QGIS напрямую.


Как калибровать / что ещё можно улучшить (быстрая шпаргалка)
Degree-day модель: текущая — простая (base temp, temp - base). Можно заменить на более точную методику (интеграл по часам, использование минимального и максимального порога).
Разделение пола: сейчас пол присваивается случайно; можно задать разные DD или смертности для самок/самцов.
Каннибализм: можно улучшить до реально событийного взаимодействия (например, вероятность поедания зависит от размеров стадий).
Ориентированное движение: можно вводить поле запаха/градиент добычи (растр), чтобы двигались не к отдельной точке, а к распределению ресурсов.
Производительность: при очень большом числе агентов (10k+) лучше применять агрегированную модель по ячейкам (cellular automata) или оптимизированные kd-tree расчёты.


Перед запуском:

Подготовить пример GeoJSON поля (ширина/высота) и протестировать ограничение границ. Выше коэффициент по полигону - тяжелее расселяться.
